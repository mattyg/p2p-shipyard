var t=new TextEncoder;function e(e,i,r){e.length>50?function(e,i,r){t.encodeInto(e,i.subarray(r))}(e,i,r):function(t,e,i){for(var r=t.length,n=i,o=0;o<r;){var s=t.charCodeAt(o++);if(4294967168&s){if(4294965248&s){if(s>=55296&&s<=56319&&o<r){var h=t.charCodeAt(o);56320==(64512&h)&&(++o,s=((1023&s)<<10)+(1023&h)+65536)}4294901760&s?(e[n++]=s>>18&7|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128):(e[n++]=s>>12&15|224,e[n++]=s>>6&63|128)}else e[n++]=s>>6&31|192;e[n++]=63&s|128}else e[n++]=s}}(e,i,r)}new TextDecoder;var i,r=function(t,e){this.type=t,this.data=e},n=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t){function e(i){var r=t.call(this,i)||this,n=Object.create(e.prototype);return Object.setPrototypeOf(r,n),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:e.name}),r}return n(e,t),e}(Error);function s(t,e,i){var r=Math.floor(i/4294967296),n=i;t.setUint32(e,r),t.setUint32(e+4,n)}var h=4294967295,c=17179869183;var f={type:-1,encode:function(t){var e,i,r,n;return t instanceof Date?function(t){var e,i=t.sec,r=t.nsec;if(i>=0&&r>=0&&i<=c){if(0===r&&i<=h){var n=new Uint8Array(4);return(e=new DataView(n.buffer)).setUint32(0,i),n}var o=i/4294967296,f=4294967295&i;return n=new Uint8Array(8),(e=new DataView(n.buffer)).setUint32(0,r<<2|3&o),e.setUint32(4,f),n}return n=new Uint8Array(12),(e=new DataView(n.buffer)).setUint32(0,r),s(e,4,i),n}((e=t.getTime(),i=Math.floor(e/1e3),r=1e6*(e-1e3*i),n=Math.floor(r/1e9),{sec:i+n,nsec:r-1e9*n})):null},decode:function(t){var e=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:r=e.getUint32(0),nsec:0};case 8:var i=e.getUint32(0);return{sec:r=4294967296*(3&i)+e.getUint32(4),nsec:i>>>2};case 12:var r=function(t,e){return 4294967296*t.getInt32(e)+t.getUint32(e+4)}(e,4);return{sec:r,nsec:e.getUint32(0)};default:throw new o("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(t.length))}}(t);return new Date(1e3*e.sec+e.nsec/1e6)}},a=function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(f)}return t.prototype.register=function(t){var e=t.type,i=t.encode,r=t.decode;if(e>=0)this.encoders[e]=i,this.decoders[e]=r;else{var n=1+e;this.builtInEncoders[n]=i,this.builtInDecoders[n]=r}},t.prototype.tryToEncode=function(t,e){for(var i=0;i<this.builtInEncoders.length;i++){if(null!=(n=this.builtInEncoders[i]))if(null!=(o=n(t,e)))return new r(-1-i,o)}for(i=0;i<this.encoders.length;i++){var n,o;if(null!=(n=this.encoders[i]))if(null!=(o=n(t,e)))return new r(i,o)}return t instanceof r?t:null},t.prototype.decode=function(t,e,i){var n=e<0?this.builtInDecoders[-1-e]:this.decoders[e];return n?n(t,e,i):new r(e,t)},t.defaultCodec=new t,t}();var u=function(){function t(t){var e,i,r,n,o,s,h,c;this.extensionCodec=null!==(e=null==t?void 0:t.extensionCodec)&&void 0!==e?e:a.defaultCodec,this.context=null==t?void 0:t.context,this.useBigInt64=null!==(i=null==t?void 0:t.useBigInt64)&&void 0!==i&&i,this.maxDepth=null!==(r=null==t?void 0:t.maxDepth)&&void 0!==r?r:100,this.initialBufferSize=null!==(n=null==t?void 0:t.initialBufferSize)&&void 0!==n?n:2048,this.sortKeys=null!==(o=null==t?void 0:t.sortKeys)&&void 0!==o&&o,this.forceFloat32=null!==(s=null==t?void 0:t.forceFloat32)&&void 0!==s&&s,this.ignoreUndefined=null!==(h=null==t?void 0:t.ignoreUndefined)&&void 0!==h&&h,this.forceIntegerToFloat=null!==(c=null==t?void 0:t.forceIntegerToFloat)&&void 0!==c&&c,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encodeSharedRef=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)},t.prototype.encode=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)},t.prototype.doEncode=function(t,e){if(e>this.maxDepth)throw new Error("Too deep objects in depth ".concat(e));null==t?this.encodeNil():"boolean"==typeof t?this.encodeBoolean(t):"number"==typeof t?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):"string"==typeof t?this.encodeString(t):this.useBigInt64&&"bigint"==typeof t?this.encodeBigInt64(t):this.encodeObject(t,e)},t.prototype.ensureBufferSizeToWrite=function(t){var e=this.pos+t;this.view.byteLength<e&&this.resizeBuffer(2*e)},t.prototype.resizeBuffer=function(t){var e=new ArrayBuffer(t),i=new Uint8Array(e),r=new DataView(e);i.set(this.bytes),this.view=r,this.bytes=i},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(t){!1===t?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)},t.prototype.encodeNumberAsFloat=function(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))},t.prototype.encodeBigInt64=function(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))},t.prototype.writeStringHeader=function(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too long string: ".concat(t," bytes in UTF-8"));this.writeU8(219),this.writeU32(t)}},t.prototype.encodeString=function(t){var i=function(t){for(var e=t.length,i=0,r=0;r<e;){var n=t.charCodeAt(r++);if(4294967168&n)if(4294965248&n){if(n>=55296&&n<=56319&&r<e){var o=t.charCodeAt(r);56320==(64512&o)&&(++r,n=((1023&n)<<10)+(1023&o)+65536)}i+=4294901760&n?4:3}else i+=2;else i++}return i}(t);this.ensureBufferSizeToWrite(5+i),this.writeStringHeader(i),e(t,this.bytes,this.pos),this.pos+=i},t.prototype.encodeObject=function(t,e){var i=this.extensionCodec.tryToEncode(t,this.context);if(null!=i)this.encodeExtension(i);else if(Array.isArray(t))this.encodeArray(t,e);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else{if("object"!=typeof t)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(t)));this.encodeMap(t,e)}},t.prototype.encodeBinary=function(t){var e=t.byteLength;if(e<256)this.writeU8(196),this.writeU8(e);else if(e<65536)this.writeU8(197),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too large binary: ".concat(e));this.writeU8(198),this.writeU32(e)}var i,r=(i=t)instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?new Uint8Array(i):Uint8Array.from(i);this.writeU8a(r)},t.prototype.encodeArray=function(t,e){var i=t.length;if(i<16)this.writeU8(144+i);else if(i<65536)this.writeU8(220),this.writeU16(i);else{if(!(i<4294967296))throw new Error("Too large array: ".concat(i));this.writeU8(221),this.writeU32(i)}for(var r=0,n=t;r<n.length;r++){var o=n[r];this.doEncode(o,e+1)}},t.prototype.countWithoutUndefined=function(t,e){for(var i=0,r=0,n=e;r<n.length;r++){void 0!==t[n[r]]&&i++}return i},t.prototype.encodeMap=function(t,e){var i=Object.keys(t);this.sortKeys&&i.sort();var r=this.ignoreUndefined?this.countWithoutUndefined(t,i):i.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: ".concat(r));this.writeU8(223),this.writeU32(r)}for(var n=0,o=i;n<o.length;n++){var s=o[n],h=t[s];this.ignoreUndefined&&void 0===h||(this.encodeString(s),this.doEncode(h,e+1))}},t.prototype.encodeExtension=function(t){var e=t.data.length;if(1===e)this.writeU8(212);else if(2===e)this.writeU8(213);else if(4===e)this.writeU8(214);else if(8===e)this.writeU8(215);else if(16===e)this.writeU8(216);else if(e<256)this.writeU8(199),this.writeU8(e);else if(e<65536)this.writeU8(200),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too large extension object: ".concat(e));this.writeU8(201),this.writeU32(e)}this.writeI8(t.type),this.writeU8a(t.data)},t.prototype.writeU8=function(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++},t.prototype.writeU8a=function(t){var e=t.length;this.ensureBufferSizeToWrite(e),this.bytes.set(t,this.pos),this.pos+=e},t.prototype.writeI8=function(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++},t.prototype.writeU16=function(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2},t.prototype.writeI16=function(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2},t.prototype.writeU32=function(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4},t.prototype.writeI32=function(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4},t.prototype.writeF32=function(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4},t.prototype.writeF64=function(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8},t.prototype.writeU64=function(t){this.ensureBufferSizeToWrite(8),function(t,e,i){var r=i/4294967296,n=i;t.setUint32(e,r),t.setUint32(e+4,n)}(this.view,this.pos,t),this.pos+=8},t.prototype.writeI64=function(t){this.ensureBufferSizeToWrite(8),s(this.view,this.pos,t),this.pos+=8},t.prototype.writeBigUint64=function(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8},t.prototype.writeBigInt64=function(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8},t}();"function"==typeof SuppressedError&&SuppressedError;const l=async()=>w(32),w=async t=>globalThis.crypto.getRandomValues(new Uint8Array(t));window.__HC_ZOME_CALL_SIGNER__={signZomeCall:t=>p(t)};const p=async t=>{const e={...t,payload:(i=t.payload,new u(r).encodeSharedRef(i)),cap_secret:null,expires_at:1e3*(Date.now()+3e5),nonce:await l()};var i,r;const n=await async function(t,e={},i){return window.__TAURI_INTERNALS__.invoke(t,e,i)}("plugin:holochain|sign_zome_call",{zomeCallUnsigned:e});return n};
